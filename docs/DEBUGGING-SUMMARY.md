# üìã –ò—Ç–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –æ—Ç–ª–∞–¥–∫–∏ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

## üéØ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
‚ùå **SMTP –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**
```
Error: authentication failed: Invalid user or password! 1750614492-CmVHs0oLfKo0
```

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### Frontend (`components/contact-form.tsx`)
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑–º–µ—Ä–µ payload –∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### Backend (`pages/api/contact.ts`)
- ‚úÖ –õ–æ–≥–∏ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ SMTP –∏ –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä–∞
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 2. –ù–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏

#### Debug API endpoint (`pages/api/debug/contact-test.ts`)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç SMTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### Debug —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`pages/debug/contact.tsx`)
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –£—Ç–∏–ª–∏—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ `smtp-test.js` - –ª–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç SMTP
- ‚úÖ `public/debug/contact-test-script.js` - –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ø–ª–æ—è

#### GitHub Actions (`deploy.yml`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `TRACKER_PRIVATE_KEY` –≤ debug —Å–µ–∫—Ü–∏—é
- ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ `TRACKER_PRIVATE_KEY` –≤ docker build args
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

#### Yandex Tracker (`lib/yandex-tracker.ts`)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è `TRACKER_PRIVATE_KEY_B64`
- ‚úÖ Fallback –Ω–∞ –æ–±—ã—á–Ω—ã–π `TRACKER_PRIVATE_KEY`

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –°–æ–∑–¥–∞–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- ‚úÖ `CONTACT-FORM-DEBUG.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ç–ª–∞–¥–∫–µ
- ‚úÖ `YANDEX-MAIL-SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ `QUICK-FIX.md` - –±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ `DEPLOY-CHECK.md` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

## üéØ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:
1. **Deploy.yml**: –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–û—Ç–ª–∞–¥–∫–∞**: –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ùå –û–°–¢–ê–õ–û–°–¨:
**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –ù–µ–≤–µ—Ä–Ω—ã–π SMTP –ø–∞—Ä–æ–ª—å

### –†–µ—à–µ–Ω–∏–µ (2 –º–∏–Ω—É—Ç—ã):
–°–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ø–Ω–¥–µ–∫—Å.–ü–æ—á—Ç—ã –∏ –æ–±–Ω–æ–≤–∏—Ç—å `SMTP_PASS`

## üìä –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç:
- `SMTP_USER` - –µ—Å—Ç—å  
- `NODE_ENV` - production
- `TRACKER_PRIVATE_KEY` - –µ—Å—Ç—å ‚úÖ 
- `TRACKER_KEY_ID` - –µ—Å—Ç—å ‚úÖ
- `TRACKER_SERVICE_ACCOUNT_ID` - –µ—Å—Ç—å ‚úÖ
- `TRACKER_ORG_ID` - –µ—Å—Ç—å ‚úÖ
- `TRACKER_QUEUE_KEY` - –µ—Å—Ç—å ‚úÖ

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
- `SMTP_PASS` - –µ—Å—Ç—å, –Ω–æ –Ω–µ–≤–µ—Ä–Ω—ã–π

### ‚ö™ –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ:
- `TRACKER_PRIVATE_KEY_B64` - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–µ—Å—Ç—å –æ–±—ã—á–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- `YANDEX_TRACKER_TOKEN` - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (—Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞)
- `YANDEX_TRACKER_ORG_ID` - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (—Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://bottlecode.app/debug/contact`
2. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API Environment"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SMTP —Å—Ç–∞—Ç—É—Å

### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
node smtp-test.js
```

### –í –±—Ä–∞—É–∑–µ—Ä–µ:
```javascript
// –í DevTools Console –Ω–∞ —Å–∞–π—Ç–µ
await testContactAPI();
await testContactForm('test@example.com');
```

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å SMTP** - —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ñ–æ—Ä–º—ã
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debug –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [QUICK-FIX.md](./QUICK-FIX.md) - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- [YANDEX-MAIL-SETUP.md](./YANDEX-MAIL-SETUP.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—á—Ç—ã
- [CONTACT-FORM-DEBUG.md](./CONTACT-FORM-DEBUG.md) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `/debug/contact` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `/api/debug/contact-test` - API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
