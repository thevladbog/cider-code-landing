# üöÄ –î–ï–ü–õ–û–ô –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô - –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ê

**–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã**: –§–∞–π–ª `.env.production` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è GitHub Secrets.

**–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é

## üéØ –î–ï–ô–°–¢–í–ò–Ø –î–õ–Ø –î–ï–ü–õ–û–Ø

### 1. –ö–æ–º–º–∏—Ç –∏ –ø—É—à (–°–ï–ô–ß–ê–°)
```bash
git add .
git commit -m "fix: critical environment variables issue in production

- Remove blocking .env.production file
- Fix Dockerfile to pass runtime environment variables  
- Update deploy workflow to create .env file on server
- Add env_file to docker-compose.yml

Resolves form submission issues on production"
git push origin main
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ—è (5-10 –º–∏–Ω—É—Ç)
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/your-repo/actions
2. –î–æ–∂–¥–∏—Ç–µ—Å—å —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è workflow "Deploy to Yandex Cloud"
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —à–∞–≥–∏ –ø—Ä–æ—à–ª–∏ –±–µ–∑ –æ—à–∏–±–æ–∫

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è)
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
https://bottlecode.app/api/debug/contact-test
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
```json
{
  "environment": {
    "SMTP_USER": "‚úì set",
    "SMTP_PASS": "‚úì set",
    "TRACKER_PRIVATE_KEY": "‚úì set"
  },
  "smtp": {
    "status": "‚úì SMTP connection successful"  
  }
}
```

### 4. –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç —Ñ–æ—Ä–º—ã
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
https://bottlecode.app/debug/contact
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Ñ–æ—Ä–º—É ‚Üí –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!

## üîß –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û

1. ‚ùå **–£–¥–∞–ª—ë–Ω** `.env.production` (–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª GitHub Secrets)
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω** `Dockerfile` (–ø–µ—Ä–µ–¥–∞—á–∞ runtime –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)
3. ‚úÖ **–û–±–Ω–æ–≤–ª—ë–Ω** `deploy.yml` (—Å–æ–∑–¥–∞–Ω–∏–µ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
4. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω** `docker-compose.yml` (–∑–∞–≥—Ä—É–∑–∫–∞ .env —Ñ–∞–π–ª–∞)

## üö® –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –°—Ü–µ–Ω–∞—Ä–∏–π A: –î–µ–ø–ª–æ–π —É–ø–∞–ª —Å –æ—à–∏–±–∫–æ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ - –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ push

### –°—Ü–µ–Ω–∞—Ä–∏–π B: –î–µ–ø–ª–æ–π –ø—Ä–æ—à—ë–ª, –Ω–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å—ë –µ—â—ë missing
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/api/debug/contact-test`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker logs bottlecode-landing-prod`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π C: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –µ—Å—Ç—å, –Ω–æ SMTP –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç  
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å credentials –Ø–Ω–¥–µ–∫—Å.–ü–æ—á—Ç—ã
- –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `docs/YANDEX-SMTP-TROUBLESHOOTING.md`
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≥–æ—Ç–æ–≤—ã:
- **Debug endpoint**: `/api/debug/contact-test`
- **Test page**: `/debug/contact`  
- **–õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç**: `node smtp-yandex-test.js`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ø–æ–ª–Ω–∞—è –≤ `docs/`

---

## ‚è±Ô∏è –í–†–ï–ú–ï–ù–ù–ê–Ø –û–¶–ï–ù–ö–ê

- **–î–µ–ø–ª–æ–π**: 5-10 –º–∏–Ω—É—Ç
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: 2-3 –º–∏–Ω—É—Ç—ã
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 1-2 –º–∏–Ω—É—Ç—ã

**–û–±—â–µ–µ –≤—Ä–µ–º—è –¥–æ –ø–æ–ª–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**: ~15 –º–∏–Ω—É—Ç

---

**üéâ –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø –§–û–†–ú–ê –û–ë–†–ê–¢–ù–û–ô –°–í–Ø–ó–ò –î–û–õ–ñ–ù–ê –ó–ê–†–ê–ë–û–¢–ê–¢–¨ –ü–û–õ–ù–û–°–¢–¨–Æ!**
