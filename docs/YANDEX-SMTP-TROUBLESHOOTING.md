# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º SMTP —Å –Ø–Ω–¥–µ–∫—Å.–ü–æ—á—Ç–æ–π

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞: `Invalid login: 535 5.7.8 Error: authentication failed: Invalid user or password!`

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
https://your-domain.com/api/debug/contact-test
```

### 2. –ê–Ω–∞–ª–∏–∑ –≤—ã–≤–æ–¥–∞ debug endpoint
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–µ–∫—Ü–∏—é SMTP Check:
- `user`: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω—ã–π email (example@yandex.ru)
- `userLength`: —Ä–∞–∑—É–º–Ω–∞—è –¥–ª–∏–Ω–∞ email
- `passLength`: –æ–±—ã—á–Ω–æ 16-20 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `userDomain`: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `yandex.ru` –∏–ª–∏ `ya.ru`

## üõ†Ô∏è –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ø–Ω–¥–µ–∫—Å
1. –ó–∞–π–¥–∏—Ç–µ –≤ [–Ø–Ω–¥–µ–∫—Å.–ü–∞—Å–ø–æ—Ä—Ç](https://passport.yandex.ru)
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–æ–∂–µ—Ç–µ –∑–∞–π—Ç–∏ –≤ [–Ø–Ω–¥–µ–∫—Å.–ü–æ—á—Ç—É](https://mail.yandex.ru)

### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](https://passport.yandex.ru/profile/security)
2. –í–∫–ª—é—á–∏—Ç–µ "–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è" (2FA)
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [–ü–∞—Ä–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π](https://passport.yandex.ru/profile/app-passwords)
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
3. –í—ã–±–µ—Ä–∏—Ç–µ **"–ü–æ—á—Ç–∞"** (–æ—á–µ–Ω—å –≤–∞–∂–Ω–æ!)
4. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "BOTTLE CODE Landing SMTP"
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å

### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
1. –í GitHub Secrets –æ–±–Ω–æ–≤–∏—Ç–µ:
   - `SMTP_USER`: –ø–æ–ª–Ω—ã–π email (example@yandex.ru)
   - `SMTP_PASS`: –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤!)

### –®–∞–≥ 5: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –¥–µ–ø–ª–æ–π
1. –ó–∞–π–¥–∏—Ç–µ –≤ GitHub Actions
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –¥–µ–ø–ª–æ–π –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://your-domain.com/api/debug/contact-test`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å SMTP: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `‚úì SMTP connection successful`

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: —Å–æ–∑–¥–∞–ª–∏ –ø–∞—Ä–æ–ª—å –¥–ª—è "–î—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: —Å–æ–∑–¥–∞–ª–∏ –ø–∞—Ä–æ–ª—å –¥–ª—è "–ü–æ—á—Ç–∞"

### 2. –ù–µ–ø–æ–ª–Ω—ã–π email
‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: `username`
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: `username@yandex.ru`

### 3. –ü—Ä–æ–±–µ–ª—ã –≤ –ø–∞—Ä–æ–ª–µ
‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: –ø–∞—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–±–µ–ª—ã
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: –ø–∞—Ä–æ–ª—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –æ–¥–Ω–∏–º –∫—É—Å–∫–æ–º)

### 4. –û—Ç–∫–ª—é—á–µ–Ω–Ω–∞—è 2FA
‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: 2FA –≤—ã–∫–ª—é—á–µ–Ω–∞
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: 2FA –≤–∫–ª—é—á–µ–Ω–∞

## üîÑ –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è

### 1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π email
–ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π email –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –Ø–Ω–¥–µ–∫—Å email:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ yandex.ru
2. –í–∫–ª—é—á–∏—Ç–µ 2FA
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è "–ü–æ—á—Ç–∞"
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–µ credentials

### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ SMTP –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
–ï—Å–ª–∏ –Ø–Ω–¥–µ–∫—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- **Gmail**: `smtp.gmail.com:587` (App Password)
- **Mail.ru**: `smtp.mail.ru:465` (–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- **SendGrid**: API –∫–ª—é—á (–±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–æ)

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–µ—Ä–µ
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–æ—Ç –∂–µ email/–ø–∞—Ä–æ–ª—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
```bash
node smtp-test.js
```

## üìù –õ–æ–≥ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
–î–∞—Ç–∞: ___________
–®–∞–≥: ___________
–†–µ–∑—É–ª—å—Ç–∞—Ç: ___________
–û—à–∏–±–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å): ___________
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ debug endpoint –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```json
{
  "smtpCheck": {
    "status": "‚úì SMTP connection successful",
    "diagnostics": {
      "user": "your-email@yandex.ru",
      "userDomain": "yandex.ru",
      "host": "smtp.yandex.ru",
      "port": 465
    }
  }
}
```

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ [–ø–æ–¥–¥–µ—Ä–∂–∫—É –Ø–Ω–¥–µ–∫—Å](https://yandex.ru/support/passport/)
2. –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É —Å –ø–∞—Ä–æ–ª—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
3. –£–∫–∞–∂–∏—Ç–µ —á—Ç–æ –ø—ã—Ç–∞–µ—Ç–µ—Å—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SMTP –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. –ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –æ—à–∏–±–æ–∫ –∏–∑ debug endpoint

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–∏–ø–æ–º "–ü–æ—á—Ç–∞" –∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–π 2FA.
